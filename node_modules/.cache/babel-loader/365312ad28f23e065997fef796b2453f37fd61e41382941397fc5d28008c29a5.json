{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { getAllProdeceO } from \"../../../api/api.js\";\nimport { getToken } from \"../../../utils/setToken.js\";\nexport default {\n  data() {\n    return {\n      //获取项目信息的参数对象\n      EmployeeList: [],\n      //需求方搜索框\n      demands: \"\",\n      //项目名称搜索框\n      names: \"\",\n      // 总条数\n      totalCount: 0,\n      // 默认显示第几页\n      currentPage: 1,\n      // 个数选择器\n      pageSizes: [5, 10],\n      // 默认每页显示的条数\n      PageSize: 5\n    };\n  },\n  created() {\n    this.id = JSON.parse(getToken(\"work_num\"));\n    /*     this.token = JSON.parse(getToken(\"admin_token\")); */\n    this.getList();\n  },\n  methods: {\n    formatter(row, column) {\n      var data = row[column.property];\n      if (data == null) {\n        return data;\n      }\n      data = data.toString();\n      data = data.replace(/\\'/g, \"\");\n      data = data.replace(/\\[/g, \"\");\n      data = data.replace(/\\]/g, \"\");\n      data = data.replace(/\\s*/g, \"\");\n      data = data.replace(/\\s*/g, \"\");\n      data = data.replace(/GX/g, \"保定国信\");\n      data = data.replace(/YD/g, \"成都亿达\");\n      data = data.replace(/JH/g, \"大连金慧\");\n      data = data.replace(/YT/g, \"盐城云腾\");\n      data = data.replace(/WD/g, \"永川文德\");\n      data = data.replace(/RR/g, \"热热\");\n      data = data.replace(/WH/g, \"HRO\");\n      return data;\n    },\n    getList() {\n      getAllProdeceO(this.id, this.PageSize, this.currentPage, this.names).then(res => {\n        if (res.data.ret == 0) {\n          this.EmployeeList = res.data.data_list;\n          this.totalCount = res.data.total;\n        }\n      });\n    },\n    fifterUrl(url) {\n      var match = /^((ht|f)tps?):\\/\\/[\\w\\-]+(\\.[\\w\\-]+)+([\\w\\-\\.,@?^=%&:\\/~\\+#]*[\\w\\-\\@?^=%&\\/~\\+#])?$/;\n      return match.test(url);\n    },\n    handleSizeChange(val) {\n      // 改变每页显示的条数\n      this.PageSize = val;\n      // 注意：在改变每页显示的条数时，要将页码显示到第一页\n      this.currentPage = 1;\n      // 点击每页显示的条数时，显示第一页\n\n      this.getList();\n    },\n    handleCurrentChange(val) {\n      // 改变默认的页数\n      this.currentPage = val;\n      // 切换页码时，要获取每页显示的条数\n\n      this.getList();\n    },\n    search() {\n      this.currentPage = 1;\n      this.getList();\n    },\n    toDetailO(id) {\n      this.$router.push({\n        path: \"DetailO\",\n        query: {\n          id: id\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["getAllProdeceO","getToken","data","EmployeeList","demands","names","totalCount","currentPage","pageSizes","PageSize","created","id","JSON","parse","getList","methods","formatter","row","column","property","toString","replace","then","res","ret","data_list","total","fifterUrl","url","match","test","handleSizeChange","val","handleCurrentChange","search","toDetailO","$router","push","path","query"],"sources":["src/components/Manager/Overview/ProduceO.vue"],"sourcesContent":["<template>\n    <div>\n        <el-card>\n      <!--     面包屑导航 -->\n      <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n        <el-breadcrumb-item :to=\"{ path: '/Notice' }\">首页</el-breadcrumb-item>\n        <el-breadcrumb-item>项资数据总览</el-breadcrumb-item>\n        <el-breadcrumb-item>项目详情</el-breadcrumb-item>\n      </el-breadcrumb>\n    </el-card>\n      <!-- 卡片视图 -->\n      <el-card>\n        <el-row :gutter=\"40\">\n            <el-col :span=\"15\" class=\"situ-data-des\">\n                项目\n            </el-col>\n          <el-col :span=\"3\">\n            <el-input placeholder=\"项目名称\" v-model=\"names\" \n            @keyup.enter.native=\"search\"\n            size=\"mini\"\n            clearable>\n            </el-input>\n          </el-col>\n          <el-col :span=\"3\">\n          <el-button icon=\"el-icon-search\" circle\n          size=\"mini\" @click=\"search\"> </el-button>\n          </el-col>\n        </el-row>\n  \n        <!-- 项目详情列表 -->\n        <el-table :data=\"EmployeeList\"  stripe >\n          <el-table-column\n           \n            prop=\"id\"\n            label=\"表单id\"\n            min-width=\"10%\"\n          >\n          </el-table-column>\n          <el-table-column\n            label=\"姓名\"\n            prop=\"first_name\"\n            min-width=\"10%\"\n          ></el-table-column>\n          <el-table-column\n            label=\"工作日期\"\n            prop=\"data_time\"\n            min-width=\"10%\"\n          ></el-table-column>\n          <el-table-column\n            label=\"项目名称\"\n            prop=\"project_name\"\n            min-width=\"25%\"\n          ></el-table-column>\n          <el-table-column\n            label=\"项目角色\"\n            prop=\"project_role\"\n            min-width=\"10%\"\n          ></el-table-column>\n          <el-table-column\n            label=\"是否加班\"\n            prop=\"work_overtime\"\n            min-width=\"10%\"\n          >\n          <template slot-scope=\"scope\">\n            <span v-if=\"scope.row.work_overtime == 0\">是</span>\n            <span v-if=\"scope.row.work_overtime == 1\">否</span>\n          </template></el-table-column>\n          <el-table-column\n            label=\"是否核算绩效\"\n            prop=\"account\"\n            min-width=\"10%\"\n          >\n          <template slot-scope=\"scope\">\n            <span v-if=\"scope.row.account == 0\">是</span>\n            <span v-if=\"scope.row.account == 1\">否</span>\n          </template></el-table-column>\n          <el-table-column\n            label=\"总工时\"\n            prop=\"sum_time\"\n            min-width=\"10%\"\n          ></el-table-column>\n          <el-table-column             \n          label=\"总工作量\"\n            prop=\"sum_number\"\n            min-width=\"10%\">\n          </el-table-column>\n          <el-table-column\n            label=\"第一审批人状态\"\n            prop=\"state1\"\n            min-width=\"12%\"\n          >\n          <template slot-scope=\"scope\">\n            <span v-if=\"scope.row.state1 == 0\">已通过</span>\n            <span v-if=\"scope.row.state1 == 1\">未通过</span>\n            <span v-if=\"scope.row.state1 == 2\">待审批</span>\n          </template></el-table-column>\n          <el-table-column\n            label=\"第二审批人状态\"\n            prop=\"state2\"\n            min-width=\"12%\"\n          >\n          <template slot-scope=\"scope\">\n            <span v-if=\"scope.row.state2 == 0\">已通过</span>\n            <span v-if=\"scope.row.state2 == 1\">未通过</span>\n            <span v-if=\"scope.row.state2 == 2\">待审批</span>\n          </template></el-table-column>\n          <el-table-column\n            label=\"详情\"\n            min-width=\"8%\"\n          >\n          <template slot-scope=\"scope\">\n            <span class=\"toDetailE\" @click=\"toDetailO(scope.row.id)\">\n              进入\n            </span>\n          </template></el-table-column>\n        </el-table>\n        <div>\n          <el-pagination\n            @size-change=\"handleSizeChange\"\n            @current-change=\"handleCurrentChange\"\n            :current-page=\"currentPage\"\n            :page-sizes=\"pageSizes\"\n            :page-size=\"PageSize\"\n            layout=\"total, sizes, prev, pager, next, jumper\"\n            :total=\"totalCount\"\n          >\n          </el-pagination>\n        </div>\n      </el-card>\n    </div>\n  </template>\n  \n  <script>\n  import { getAllProdeceO } from \"../../../api/api.js\";\n  import { getToken } from \"../../../utils/setToken.js\";\n  export default {\n    data() {\n      return {\n        //获取项目信息的参数对象\n        EmployeeList: [],\n        //需求方搜索框\n        demands: \"\",\n        //项目名称搜索框\n        names: \"\",\n        // 总条数\n        totalCount: 0,\n        // 默认显示第几页\n        currentPage: 1,\n        // 个数选择器\n        pageSizes: [5, 10],\n        // 默认每页显示的条数\n        PageSize: 5,\n  \n        \n      };\n    },\n    created() {\n      this.id = JSON.parse(getToken(\"work_num\"));\n  /*     this.token = JSON.parse(getToken(\"admin_token\")); */\n      this.getList();\n    },\n    methods: {\n      formatter(row, column) {\n        var data = row[column.property];\n        if (data == null) {\n          return data;\n        }\n        data = data.toString();\n        data = data.replace(/\\'/g, \"\");\n        data = data.replace(/\\[/g, \"\");\n        data = data.replace(/\\]/g, \"\");\n        data = data.replace(/\\s*/g, \"\");\n        data = data.replace(/\\s*/g, \"\");\n        data = data.replace(/GX/g, \"保定国信\");\n        data = data.replace(/YD/g, \"成都亿达\");\n        data = data.replace(/JH/g, \"大连金慧\");\n        data = data.replace(/YT/g, \"盐城云腾\");\n        data = data.replace(/WD/g, \"永川文德\");\n        data = data.replace(/RR/g, \"热热\");\n        data = data.replace(/WH/g, \"HRO\");\n        return data;\n      },\n      getList() {\n        getAllProdeceO(\n          this.id,\n          this.PageSize,\n          this.currentPage,\n          this.names\n        ).then((res) => {\n          if (res.data.ret == 0) {\n            this.EmployeeList = res.data.data_list;\n            this.totalCount = res.data.total;\n          }\n        });\n      },\n      fifterUrl(url) {\n        var match =\n          /^((ht|f)tps?):\\/\\/[\\w\\-]+(\\.[\\w\\-]+)+([\\w\\-\\.,@?^=%&:\\/~\\+#]*[\\w\\-\\@?^=%&\\/~\\+#])?$/;\n        return match.test(url);\n      },\n  \n      handleSizeChange(val) {\n        // 改变每页显示的条数\n        this.PageSize = val;\n        // 注意：在改变每页显示的条数时，要将页码显示到第一页\n        this.currentPage = 1;\n        // 点击每页显示的条数时，显示第一页\n\n           this.getList()\n      },\n      handleCurrentChange(val) {\n        // 改变默认的页数\n        this.currentPage = val;\n        // 切换页码时，要获取每页显示的条数\n\n           this.getList()\n      },\n      search() {\n        this.currentPage = 1;\n           this.getList()\n      },\n      toDetailO(id) {\n      this.$router.push({\n        path: \"DetailO\",\n        query: {\n          id: id,\n        },\n      });\n    },\n    },\n  };\n  </script>\n  \n  <style lang=\"less\" scoped>\n  .situ-data-des{\n    font-size: 15px;\n    font-weight: 600;\n    padding-top: 8px;\n  }</style>\n  "],"mappings":";AAqIA,SAAAA,cAAA;AACA,SAAAC,QAAA;AACA;EACAC,KAAA;IACA;MACA;MACAC,YAAA;MACA;MACAC,OAAA;MACA;MACAC,KAAA;MACA;MACAC,UAAA;MACA;MACAC,WAAA;MACA;MACAC,SAAA;MACA;MACAC,QAAA;IAGA;EACA;EACAC,QAAA;IACA,KAAAC,EAAA,GAAAC,IAAA,CAAAC,KAAA,CAAAZ,QAAA;IACA;IACA,KAAAa,OAAA;EACA;EACAC,OAAA;IACAC,UAAAC,GAAA,EAAAC,MAAA;MACA,IAAAhB,IAAA,GAAAe,GAAA,CAAAC,MAAA,CAAAC,QAAA;MACA,IAAAjB,IAAA;QACA,OAAAA,IAAA;MACA;MACAA,IAAA,GAAAA,IAAA,CAAAkB,QAAA;MACAlB,IAAA,GAAAA,IAAA,CAAAmB,OAAA;MACAnB,IAAA,GAAAA,IAAA,CAAAmB,OAAA;MACAnB,IAAA,GAAAA,IAAA,CAAAmB,OAAA;MACAnB,IAAA,GAAAA,IAAA,CAAAmB,OAAA;MACAnB,IAAA,GAAAA,IAAA,CAAAmB,OAAA;MACAnB,IAAA,GAAAA,IAAA,CAAAmB,OAAA;MACAnB,IAAA,GAAAA,IAAA,CAAAmB,OAAA;MACAnB,IAAA,GAAAA,IAAA,CAAAmB,OAAA;MACAnB,IAAA,GAAAA,IAAA,CAAAmB,OAAA;MACAnB,IAAA,GAAAA,IAAA,CAAAmB,OAAA;MACAnB,IAAA,GAAAA,IAAA,CAAAmB,OAAA;MACAnB,IAAA,GAAAA,IAAA,CAAAmB,OAAA;MACA,OAAAnB,IAAA;IACA;IACAY,QAAA;MACAd,cAAA,CACA,KAAAW,EAAA,EACA,KAAAF,QAAA,EACA,KAAAF,WAAA,EACA,KAAAF,KAAA,CACA,CAAAiB,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAArB,IAAA,CAAAsB,GAAA;UACA,KAAArB,YAAA,GAAAoB,GAAA,CAAArB,IAAA,CAAAuB,SAAA;UACA,KAAAnB,UAAA,GAAAiB,GAAA,CAAArB,IAAA,CAAAwB,KAAA;QACA;MACA;IACA;IACAC,UAAAC,GAAA;MACA,IAAAC,KAAA,GACA;MACA,OAAAA,KAAA,CAAAC,IAAA,CAAAF,GAAA;IACA;IAEAG,iBAAAC,GAAA;MACA;MACA,KAAAvB,QAAA,GAAAuB,GAAA;MACA;MACA,KAAAzB,WAAA;MACA;;MAEA,KAAAO,OAAA;IACA;IACAmB,oBAAAD,GAAA;MACA;MACA,KAAAzB,WAAA,GAAAyB,GAAA;MACA;;MAEA,KAAAlB,OAAA;IACA;IACAoB,OAAA;MACA,KAAA3B,WAAA;MACA,KAAAO,OAAA;IACA;IACAqB,UAAAxB,EAAA;MACA,KAAAyB,OAAA,CAAAC,IAAA;QACAC,IAAA;QACAC,KAAA;UACA5B,EAAA,EAAAA;QACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}