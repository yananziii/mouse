{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { getToken, clearToken } from \"@/utils/setToken.js\";\nimport { logOut, getUserInformation } from \"@/api/api.js\";\nexport default {\n  data() {\n    return {\n      timeInterval: null,\n      userInfo: {},\n      menulist: {\n        logoName: \"\",\n        data: [{\n          id: 901,\n          authName: \"首页\",\n          path: \"/Notice\",\n          icon: \"s-home\"\n        }, {\n          id: 101,\n          authName: \"个人中心\",\n          path: \"/Presonal\",\n          icon: \"user\",\n          children: [{\n            id: 102,\n            authName: \"个人信息\",\n            path: \"/Information\"\n          }]\n        }, {\n          id: 201,\n          authName: \"项资运营\",\n          path: \"/Manager\",\n          icon: \"service\",\n          children: [{\n            id: 202,\n            authName: \"需求管理\",\n            path: \"/Need\"\n          }, {\n            id: 203,\n            authName: \"流程审批\",\n            path: \"/ApprovesO\"\n          }, {\n            id: 204,\n            authName: \"数据总览\",\n            path: \"/Ovewview\",\n            children: [{\n              id: 205,\n              authName: \"员工产出\",\n              path: \"/ProduceO\"\n            }, {\n              id: 206,\n              authName: \"员工质量\",\n              path: \"/RecordingO\"\n            }, {\n              id: 207,\n              authName: \"项目明细\",\n              path: \"/ProjectO\"\n            }, {\n              id: 208,\n              authName: \"项目分发\",\n              path: \"/SituationO\"\n            }, {\n              id: 209,\n              authName: \"数据交付\",\n              path: \"/DeliveryO\"\n            }]\n          }]\n        }, {\n          id: 401,\n          authName: \"团队管理\",\n          path: \"/Expert\",\n          icon: \"connection\",\n          children: [{\n            id: 402,\n            authName: \"我的项目\",\n            path: \"/Project\"\n          }, {\n            id: 403,\n            authName: \"项目详情\",\n            path: \"/Situation\"\n          }, {\n            id: 404,\n            authName: \"项目生产\",\n            path: \"/Produces\"\n          }, {\n            id: 405,\n            authName: \"项目质量\",\n            path: \"/Recordings\"\n          }, {\n            id: 406,\n            authName: \"流程审批\",\n            path: \"/Approves\"\n          }]\n        }, {\n          id: 501,\n          authName: \"员工填写\",\n          path: \"/User\",\n          icon: \"monitor\",\n          children: [{\n            id: 502,\n            authName: \"生产数据\",\n            path: \"/Produce\"\n          }, {\n            id: 503,\n            authName: \"质量数据\",\n            path: \"/Recording\"\n          }, {\n            id: 504,\n            authName: \"员工审批\",\n            path: \"/Approval\"\n          }]\n        }],\n        meta: {\n          msg: \"获取成功\",\n          status: 200\n        }\n      },\n      //默认不折叠\n      isCollapse: false\n    };\n  },\n  created() {\n    this.id = JSON.parse(getToken(\"work_num\"));\n    this.getName();\n    /*     clearInterval(this.timeInterval);\n        this.show_runtime(); */\n  },\n\n  methods: {\n    noChildren(data) {\n      return data.filter(item => !item.children);\n    },\n    hasChildren(data) {\n      return data.filter(item => item.children);\n    },\n    //获取个人姓名\n    getName() {\n      getUserInformation(this.id).then(res => {\n        if (res.data.ret == 0) {\n          this.userInfo = res.data.data;\n        }\n      });\n    },\n    signOut() {\n      logOut().then(res => {\n        if (res.data.ret == 0) {\n          this.$message.success(\"退出成功\");\n          clearToken();\n          this.$router.push(\"./login\");\n        }\n      });\n    },\n    //去修改密码\n    toModify() {\n      this.$router.replace(\"/passwd\");\n    },\n    toggleCollapse() {\n      //菜单折叠展开\n      this.isCollapse = !this.isCollapse;\n    }\n    //每日定时提醒\n    /*   noticeShow() {\n        this.$notify({\n          title: \"提醒\",\n          message: \"今日数据请及时更新！！！\",\n          type: \"warning\",\n          duration: 0,\n        });\n      },\n       show_runtime() {\n        this.timeInterval = setInterval(() => {\n          // 获取当前时间\n          const nowDate = new Date();\n          // 获取时\n          const hour = nowDate.getHours();\n          // 获取分\n          const min = nowDate.getMinutes();\n          // 获取秒\n          const sec = nowDate.getSeconds();\n          if (hour == 17 && min == 44 && sec == 55) {\n            this.noticeShow();\n          }\n        }, 1000);\n      }, */\n    //异步请求获取菜单数据\n    //  async getMenuList(){\n    //       const{ data : res} = await this.$http.get('menus')\n    //       if(res.meta.status !== 200) return this.$message.error(res.meta.msg)\n    //       this.menulist = res.data\n    //       console.log(res)\n\n    //   }\n  }\n  //定时器\n  /*   destroyed() {\n      clearInterval(this.timeInterval);\n    }, */\n};","map":{"version":3,"names":["getToken","clearToken","logOut","getUserInformation","data","timeInterval","userInfo","menulist","logoName","id","authName","path","icon","children","meta","msg","status","isCollapse","created","JSON","parse","getName","methods","noChildren","filter","item","hasChildren","then","res","ret","signOut","$message","success","$router","push","toModify","replace","toggleCollapse"],"sources":["src/components/Home.vue"],"sourcesContent":["<template>\n  <el-container class=\"home-container\">\n    <!--     头部组件 -->\n    <el-header height=\"50px\">\n      <div>\n        <span class=\"system-name-chinese\"> 薯标 </span>\n      </div>\n      <div>\n        <span class=\"person-set\">\n          <el-dropdown placement=\"bottom\">\n            <span class=\"true-name\">\n              {{ this.userInfo.first_name }}\n            </span>\n            <el-dropdown-menu slot=\"dropdown\">\n              <el-dropdown-item @click.native=\"signOut\"\n                >退出登陆</el-dropdown-item\n              >\n              <el-dropdown-item @click.native=\"toModify\"\n                >修改密码</el-dropdown-item\n              >\n            </el-dropdown-menu>\n          </el-dropdown>\n        </span>\n      </div>\n    </el-header>\n    <el-container>\n      <!--         侧边栏组件 -->\n      <el-aside :width=\"isCollapse ? '64px' : '150px'\">\n        <div class=\"toggle-button\" @click=\"toggleCollapse\">|||</div>\n        <!--         侧边栏菜单区 -->\n        <el-menu\n          background-color=\"#ffffff\"\n          text-color=\"#000000\"\n          active-text-color=\"#6560be\"\n          unique-opened\n          :collapse=\"isCollapse\"\n          :collapse-transition=\"false\"\n          :router=\"true\"\n        >\n          <el-menu-item\n            :index=\"item.path\"\n            v-for=\"item in noChildren(this.menulist.data)\"\n            :key=\"item.id\"\n          >\n            <i :class=\"'el-icon-' + item.icon\"></i>\n            <span slot=\"title\">{{ item.authName }}</span>\n          </el-menu-item>\n          <el-submenu\n            :index=\"item.id + ''\"\n            v-for=\"(item, index) in hasChildren(this.menulist.data)\"\n            :key=\"index\"\n          >\n            <template slot=\"title\">\n              <i :class=\"'el-icon-' + item.icon\"></i>\n              <span>{{ item.authName }}</span>\n            </template>\n            <el-menu-item-group>\n              <el-menu-item\n                :index=\"subItem.path\"\n                v-for=\"(subItem, subIndex) in noChildren(item.children)\"\n                :key=\"subIndex\"\n              >\n                {{ subItem.authName }}\n              </el-menu-item>\n            </el-menu-item-group>\n            <el-submenu\n              :index=\"subItem.path\"\n              v-for=\"(subItem, subIndex) in hasChildren(item.children)\"\n              :key=\"subIndex\"\n            >\n              <template slot=\"title\">\n               \n                <span>{{ subItem.authName }}</span>\n              </template>\n              <el-menu-item-group>\n                <el-menu-item\n                  :index=\"abcItem.path\"\n                  v-for=\"(abcItem, abcIndex) in noChildren(subItem.children)\"\n                  :key=\"abcIndex\"\n                >\n                  {{ abcItem.authName }}\n                </el-menu-item>\n              </el-menu-item-group>\n            </el-submenu>\n\n            <!--             <el-menu-item-group>\n              <el-menu-item\n                :index=\"subItem.path\"\n                v-for=\"(subItem, subIndex) in item.children\"\n                :key=\"subIndex\"\n              >\n                {{ subItem.authName }}\n              </el-menu-item>\n            </el-menu-item-group> -->\n          </el-submenu>\n        </el-menu>\n      </el-aside>\n      <!--       右侧主体组件 -->\n      <el-main>\n        <router-view></router-view>\n      </el-main>\n    </el-container>\n  </el-container>\n</template>\n\n<script>\nimport { getToken, clearToken } from \"@/utils/setToken.js\";\nimport { logOut, getUserInformation } from \"@/api/api.js\";\nexport default {\n  data() {\n    return {\n      timeInterval: null,\n      userInfo: {},\n      menulist: {\n        logoName: \"\",\n        data: [\n          {\n            id: 901,\n            authName: \"首页\",\n            path: \"/Notice\",\n            icon: \"s-home\",\n          },\n          {\n            id: 101,\n            authName: \"个人中心\",\n            path: \"/Presonal\",\n            icon: \"user\",\n            children: [\n              {\n                id: 102,\n                authName: \"个人信息\",\n                path: \"/Information\",\n              },\n            ],\n          },\n          {\n            id: 201,\n            authName: \"项资运营\",\n            path: \"/Manager\",\n            icon: \"service\",\n            children: [\n              {\n                id: 202,\n                authName: \"需求管理\",\n                path: \"/Need\",\n              },\n              {\n                id: 203,\n                authName: \"流程审批\",\n                path: \"/ApprovesO\",\n              },\n              {\n                id: 204,\n                authName: \"数据总览\",\n                path: \"/Ovewview\",\n                children: [\n                  {\n                    id: 205,\n                    authName: \"员工产出\",\n                    path: \"/ProduceO\",\n                  },\n                  {\n                    id: 206,\n                    authName: \"员工质量\",\n                    path: \"/RecordingO\",\n                  },\n                  {\n                    id: 207,\n                    authName: \"项目明细\",\n                    path: \"/ProjectO\",\n                  },\n                  {\n                    id: 208,\n                    authName: \"项目分发\",\n                    path: \"/SituationO\",\n                  },\n                  {\n                    id: 209,\n                    authName: \"数据交付\",\n                    path: \"/DeliveryO\",\n                  },\n                ],\n              },\n            ],\n          },\n          {\n            id: 401,\n            authName: \"团队管理\",\n            path: \"/Expert\",\n            icon: \"connection\",\n            children: [\n              {\n                id: 402,\n                authName: \"我的项目\",\n                path: \"/Project\",\n              },\n              {\n                id: 403,\n                authName: \"项目详情\",\n                path: \"/Situation\",\n              },\n              {\n                id: 404,\n                authName: \"项目生产\",\n                path: \"/Produces\",\n              },\n              {\n                id: 405,\n                authName: \"项目质量\",\n                path: \"/Recordings\",\n              },\n              {\n                id: 406,\n                authName: \"流程审批\",\n                path: \"/Approves\",\n              },\n            ],\n          },\n          {\n            id: 501,\n            authName: \"员工填写\",\n            path: \"/User\",\n            icon: \"monitor\",\n            children: [\n              {\n                id: 502,\n                authName: \"生产数据\",\n                path: \"/Produce\",\n              },\n              {\n                id: 503,\n                authName: \"质量数据\",\n                path: \"/Recording\",\n              },\n              {\n                id: 504,\n                authName: \"员工审批\",\n                path: \"/Approval\",\n              },\n            ],\n          },\n        ],\n        meta: {\n          msg: \"获取成功\",\n          status: 200,\n        },\n      },\n      //默认不折叠\n      isCollapse: false,\n    };\n  },\n  created() {\n    this.id = JSON.parse(getToken(\"work_num\"));\n    this.getName();\n/*     clearInterval(this.timeInterval);\n    this.show_runtime(); */\n\n  },\n  methods: {\n    noChildren(data) {\n      return data.filter((item) => !item.children);\n    },\n    hasChildren(data) {\n      return data.filter((item) => item.children);\n    },\n    //获取个人姓名\n    getName() {\n      getUserInformation(this.id).then((res) => {\n        if (res.data.ret == 0) {\n          this.userInfo = res.data.data;\n        }\n      });\n    },\n\n    signOut() {\n      logOut().then((res) => {\n        if (res.data.ret == 0) {\n          this.$message.success(\"退出成功\");\n          clearToken();\n          this.$router.push(\"./login\");\n        }\n      });\n    },\n    //去修改密码\n    toModify() {\n      this.$router.replace(\"/passwd\");\n    },\n    toggleCollapse() {\n      //菜单折叠展开\n      this.isCollapse = !this.isCollapse;\n    },\n    //每日定时提醒\n  /*   noticeShow() {\n      this.$notify({\n        title: \"提醒\",\n        message: \"今日数据请及时更新！！！\",\n        type: \"warning\",\n        duration: 0,\n      });\n    },\n\n    show_runtime() {\n      this.timeInterval = setInterval(() => {\n        // 获取当前时间\n        const nowDate = new Date();\n        // 获取时\n        const hour = nowDate.getHours();\n        // 获取分\n        const min = nowDate.getMinutes();\n        // 获取秒\n        const sec = nowDate.getSeconds();\n        if (hour == 17 && min == 44 && sec == 55) {\n          this.noticeShow();\n        }\n      }, 1000);\n    }, */\n    //异步请求获取菜单数据\n    //  async getMenuList(){\n    //       const{ data : res} = await this.$http.get('menus')\n    //       if(res.meta.status !== 200) return this.$message.error(res.meta.msg)\n    //       this.menulist = res.data\n    //       console.log(res)\n\n    //   }\n  },\n  //定时器\n/*   destroyed() {\n    clearInterval(this.timeInterval);\n  }, */\n};\n</script>\n\n<style lang=\"less\" scoped>\n.home-container {\n  height: 100%;\n}\n//顶部\n.el-header {\n  background-color: #353d50;\n  display: flex;\n  justify-content: space-between;\n  padding-left: 35px;\n  align-items: center;\n  color: #878687;\n  font-size: 20px;\n  border-bottom: 1px solid #e3e7eb;\n}\n//侧边栏\n.el-aside {\n  background-color: #ffffff;\n  border-top: 1px solid #e3e7eb;\n  border-right: 1px solid #e3e7eb;\n}\n//主界面\n.el-main {\n  background-color: #f0f2f5;\n}\n.el-submenu-item {\n  font-size: 10px;\n}\n//侧边栏打开关闭按钮\n.toggle-button {\n  background-color: #f0f2f5;\n  font-size: 5px;\n  line-height: 24px;\n  color: #156787;\n  text-align: center;\n}\n\n.el-dropdown-link {\n  cursor: pointer;\n  color: #409eff;\n  font-size: 24px;\n}\n\n.true-name {\n  color: #8c9fb3;\n  font-size: 24px;\n  font-family: cursive;\n}\n\n.system-name-chinese {\n  color: #8c9fb3;\n  font-size: 20px;\n  font-family: cursive;\n}\n</style>\n"],"mappings":";AA0GA,SAAAA,QAAA,EAAAC,UAAA;AACA,SAAAC,MAAA,EAAAC,kBAAA;AACA;EACAC,KAAA;IACA;MACAC,YAAA;MACAC,QAAA;MACAC,QAAA;QACAC,QAAA;QACAJ,IAAA,GACA;UACAK,EAAA;UACAC,QAAA;UACAC,IAAA;UACAC,IAAA;QACA,GACA;UACAH,EAAA;UACAC,QAAA;UACAC,IAAA;UACAC,IAAA;UACAC,QAAA,GACA;YACAJ,EAAA;YACAC,QAAA;YACAC,IAAA;UACA;QAEA,GACA;UACAF,EAAA;UACAC,QAAA;UACAC,IAAA;UACAC,IAAA;UACAC,QAAA,GACA;YACAJ,EAAA;YACAC,QAAA;YACAC,IAAA;UACA,GACA;YACAF,EAAA;YACAC,QAAA;YACAC,IAAA;UACA,GACA;YACAF,EAAA;YACAC,QAAA;YACAC,IAAA;YACAE,QAAA,GACA;cACAJ,EAAA;cACAC,QAAA;cACAC,IAAA;YACA,GACA;cACAF,EAAA;cACAC,QAAA;cACAC,IAAA;YACA,GACA;cACAF,EAAA;cACAC,QAAA;cACAC,IAAA;YACA,GACA;cACAF,EAAA;cACAC,QAAA;cACAC,IAAA;YACA,GACA;cACAF,EAAA;cACAC,QAAA;cACAC,IAAA;YACA;UAEA;QAEA,GACA;UACAF,EAAA;UACAC,QAAA;UACAC,IAAA;UACAC,IAAA;UACAC,QAAA,GACA;YACAJ,EAAA;YACAC,QAAA;YACAC,IAAA;UACA,GACA;YACAF,EAAA;YACAC,QAAA;YACAC,IAAA;UACA,GACA;YACAF,EAAA;YACAC,QAAA;YACAC,IAAA;UACA,GACA;YACAF,EAAA;YACAC,QAAA;YACAC,IAAA;UACA,GACA;YACAF,EAAA;YACAC,QAAA;YACAC,IAAA;UACA;QAEA,GACA;UACAF,EAAA;UACAC,QAAA;UACAC,IAAA;UACAC,IAAA;UACAC,QAAA,GACA;YACAJ,EAAA;YACAC,QAAA;YACAC,IAAA;UACA,GACA;YACAF,EAAA;YACAC,QAAA;YACAC,IAAA;UACA,GACA;YACAF,EAAA;YACAC,QAAA;YACAC,IAAA;UACA;QAEA,EACA;QACAG,IAAA;UACAC,GAAA;UACAC,MAAA;QACA;MACA;MACA;MACAC,UAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAT,EAAA,GAAAU,IAAA,CAAAC,KAAA,CAAApB,QAAA;IACA,KAAAqB,OAAA;IACA;AACA;EAEA;;EACAC,OAAA;IACAC,WAAAnB,IAAA;MACA,OAAAA,IAAA,CAAAoB,MAAA,CAAAC,IAAA,KAAAA,IAAA,CAAAZ,QAAA;IACA;IACAa,YAAAtB,IAAA;MACA,OAAAA,IAAA,CAAAoB,MAAA,CAAAC,IAAA,IAAAA,IAAA,CAAAZ,QAAA;IACA;IACA;IACAQ,QAAA;MACAlB,kBAAA,MAAAM,EAAA,EAAAkB,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAxB,IAAA,CAAAyB,GAAA;UACA,KAAAvB,QAAA,GAAAsB,GAAA,CAAAxB,IAAA,CAAAA,IAAA;QACA;MACA;IACA;IAEA0B,QAAA;MACA5B,MAAA,GAAAyB,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAxB,IAAA,CAAAyB,GAAA;UACA,KAAAE,QAAA,CAAAC,OAAA;UACA/B,UAAA;UACA,KAAAgC,OAAA,CAAAC,IAAA;QACA;MACA;IACA;IACA;IACAC,SAAA;MACA,KAAAF,OAAA,CAAAG,OAAA;IACA;IACAC,eAAA;MACA;MACA,KAAApB,UAAA,SAAAA,UAAA;IACA;IACA;IACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IAEA;IACA;IACA;IACA;IACA;IACA;;IAEA;EACA;EACA;EACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}