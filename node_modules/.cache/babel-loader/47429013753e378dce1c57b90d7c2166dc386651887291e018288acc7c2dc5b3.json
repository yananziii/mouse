{"ast":null,"code":"import _Message2 from \"element-ui/lib/theme-chalk/message.css\";\nimport \"element-ui/lib/theme-chalk/base.css\";\nimport _Message from \"element-ui/lib/message\";\nimport axios from 'axios';\nimport { getToken } from '@/utils/setToken.js';\nconst service = axios.create({\n  baseURL: '/api',\n  //自动加载在请求跟路径\n  timeout: 3000 //请求超时自动中断\n});\n\n//请求拦截器\nservice.interceptors.request.use(config => {\n  //请求前的动作（获取并设置token）\n  //config.headers['session'] = getToken('admin_token');\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\n\n//响应拦截器\nservice.interceptors.response.use(response => {\n  //对相应数据做什么\n  let {\n    ret,\n    msg\n  } = response.data;\n  if (ret !== 0) {\n    _Message({\n      message: msg || 'error',\n      type: 'warning'\n    });\n  }\n  return response;\n}, error => {\n  return Promise.reject(error);\n});\nexport default service;","map":{"version":3,"names":["axios","getToken","service","create","baseURL","timeout","interceptors","request","use","config","error","Promise","reject","response","ret","msg","data","_Message","message","type"],"sources":["/Users/user/Desktop/masms3.0/mouse3.0/src/service.js"],"sourcesContent":["import axios from 'axios'\nimport { getToken } from '@/utils/setToken.js'\nimport { Message } from 'element-ui'\n\nconst service = axios.create({\n    baseURL: '/api' , //自动加载在请求跟路径\n    timeout: 3000 //请求超时自动中断\n\n})\n\n\n\n//请求拦截器\nservice.interceptors.request.use((config) => {\n    //请求前的动作（获取并设置token）\n   //config.headers['session'] = getToken('admin_token');\n    return config\n},(error) => {\n    return Promise.reject(error)\n})\n\n//响应拦截器\nservice.interceptors.response.use((response) => {\n    //对相应数据做什么\n    let { ret, msg} = response.data\n    if(ret !== 0){\n        Message({message: msg || 'error', type :'warning'})\n    }\n    return response\n},(error) => {\n    return Promise.reject(error)\n})\n\nexport default service"],"mappings":";;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,QAAQ,qBAAqB;AAG9C,MAAMC,OAAO,GAAGF,KAAK,CAACG,MAAM,CAAC;EACzBC,OAAO,EAAE,MAAM;EAAG;EAClBC,OAAO,EAAE,IAAI,CAAC;AAElB,CAAC,CAAC;;AAIF;AACAH,OAAO,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,MAAM,IAAK;EACzC;EACD;EACC,OAAOA,MAAM;AACjB,CAAC,EAAEC,KAAK,IAAK;EACT,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAChC,CAAC,CAAC;;AAEF;AACAR,OAAO,CAACI,YAAY,CAACO,QAAQ,CAACL,GAAG,CAAEK,QAAQ,IAAK;EAC5C;EACA,IAAI;IAAEC,GAAG;IAAEC;EAAG,CAAC,GAAGF,QAAQ,CAACG,IAAI;EAC/B,IAAGF,GAAG,KAAK,CAAC,EAAC;IACTG,QAAA,CAAQ;MAACC,OAAO,EAAEH,GAAG,IAAI,OAAO;MAAEI,IAAI,EAAE;IAAS,CAAC,CAAC;EACvD;EACA,OAAON,QAAQ;AACnB,CAAC,EAAEH,KAAK,IAAK;EACT,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAChC,CAAC,CAAC;AAEF,eAAeR,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}