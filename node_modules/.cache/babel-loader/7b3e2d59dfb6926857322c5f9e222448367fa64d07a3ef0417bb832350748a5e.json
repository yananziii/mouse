{"ast":null,"code":"import { getAllSituationO } from \"../../../api/api.js\";\nimport { getToken } from \"../../../utils/setToken.js\";\nexport default {\n  data() {\n    return {\n      //获取项目信息的参数对象\n      SituationList: [],\n      //需求方搜索框\n      demands: \"\",\n      //项目名称搜索框\n      names: \"\",\n      // 总条数\n      totalCount: 0,\n      // 默认显示第几页\n      currentPage: 1,\n      // 个数选择器\n      pageSizes: [5, 10],\n      // 默认每页显示的条数\n      PageSize: 5\n    };\n  },\n  created() {\n    this.id = JSON.parse(getToken(\"work_num\"));\n    /*     this.token = JSON.parse(getToken(\"admin_token\")); */\n    this.getList();\n  },\n  methods: {\n    formatter(row, column) {\n      var data = row[column.property];\n      if (data == null) {\n        return data;\n      }\n      data = data.toString();\n      data = data.replace(/\\'/g, \"\");\n      data = data.replace(/\\[/g, \"\");\n      data = data.replace(/\\]/g, \"\");\n      data = data.replace(/\\s*/g, \"\");\n      data = data.replace(/\\s*/g, \"\");\n      data = data.replace(/GX/g, \"保定国信\");\n      data = data.replace(/YD/g, \"成都亿达\");\n      data = data.replace(/JH/g, \"大连金慧\");\n      data = data.replace(/YT/g, \"盐城云腾\");\n      data = data.replace(/WD/g, \"永川文德\");\n      data = data.replace(/RR/g, \"热热\");\n      data = data.replace(/WH/g, \"HRO\");\n      return data;\n    },\n    getList() {\n      getAllSituationO(this.id, this.PageSize, this.currentPage, this.names).then(res => {\n        if (res.data.ret == 0) {\n          this.SituationList = res.data.data_list;\n          this.totalCount = res.data.total;\n        }\n      });\n    },\n    fifterUrl(url) {\n      var match = /^((ht|f)tps?):\\/\\/[\\w\\-]+(\\.[\\w\\-]+)+([\\w\\-\\.,@?^=%&:\\/~\\+#]*[\\w\\-\\@?^=%&\\/~\\+#])?$/;\n      return match.test(url);\n    },\n    handleSizeChange(val) {\n      // 改变每页显示的条数\n      this.PageSize = val;\n      // 注意：在改变每页显示的条数时，要将页码显示到第一页\n      this.currentPage = 1;\n      // 点击每页显示的条数时，显示第一页\n\n      this.getList();\n    },\n    handleCurrentChange(val) {\n      // 改变默认的页数\n      this.currentPage = val;\n      // 切换页码时，要获取每页显示的条数\n\n      this.getList();\n    },\n    search() {\n      this.currentPage = 1;\n      this.getList();\n    }\n  }\n};","map":{"version":3,"names":["getAllSituationO","getToken","data","SituationList","demands","names","totalCount","currentPage","pageSizes","PageSize","created","id","JSON","parse","getList","methods","formatter","row","column","property","toString","replace","then","res","ret","data_list","total","fifterUrl","url","match","test","handleSizeChange","val","handleCurrentChange","search"],"sources":["src/components/Manager/Overview/SituationO.vue"],"sourcesContent":["<template>\n    <div>\n        <el-card>\n      <!--     面包屑导航 -->\n      <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n        <el-breadcrumb-item :to=\"{ path: '/Notice' }\">首页</el-breadcrumb-item>\n        <el-breadcrumb-item>项资数据总览</el-breadcrumb-item>\n        <el-breadcrumb-item>项目分发</el-breadcrumb-item>\n      </el-breadcrumb>\n    </el-card>\n      <!-- 卡片视图 -->\n      <el-card>\n        <el-row :gutter=\"40\">\n            <el-col :span=\"15\" class=\"situ-data-des\">\n                项目\n            </el-col>\n          <el-col :span=\"3\">\n            <el-input placeholder=\"项目名称\" v-model=\"names\" \n            @keyup.enter.native=\"search\"\n            size=\"mini\"\n            clearable>\n            </el-input>\n          </el-col>\n          <el-col :span=\"3\">\n          <el-button icon=\"el-icon-search\" circle\n          size=\"mini\" @click=\"search\"> </el-button>\n          </el-col>\n        </el-row>\n  \n        <!-- 项目详情列表 -->\n        <el-table :data=\"SituationList\"  stripe >\n          <el-table-column\n           \n            prop=\"project_state\"\n            label=\"项目状态\"\n            min-width=\"8%\"\n          >\n            <template slot-scope=\"scope\">\n              <span v-if=\"scope.row.project_state == 0\">分发中</span>\n              <span v-if=\"scope.row.project_state == 1\">待开启</span>\n              <span v-if=\"scope.row.project_state == 2\">试标中</span>\n              <span v-if=\"scope.row.project_state == 3\">进行中</span>\n              <span v-if=\"scope.row.project_state == 4\">暂停中</span>\n              <span v-if=\"scope.row.project_state == 5\">已交付</span>\n              <span v-if=\"scope.row.project_state == 6\">终止需求</span>\n            </template>\n          </el-table-column>\n          <el-table-column\n            label=\"需求方\"\n            prop=\"demand_role\"\n            min-width=\"8%\"\n          ></el-table-column>\n          <el-table-column\n            label=\"项目名称\"\n            prop=\"project_name\"\n            min-width=\"10%\"\n          ></el-table-column>\n          <el-table-column\n            label=\"总量级\"\n            prop=\"data_amount\"\n            min-width=\"10%\"\n          ></el-table-column>\n          <el-table-column\n            label=\"数据单位\"\n            prop=\"unit\"\n            min-width=\"9%\"\n          ></el-table-column>\n          <el-table-column\n            label=\"提报时间\"\n            prop=\"submit_time\"\n            min-width=\"10%\"\n          ></el-table-column>\n          <el-table-column\n            label=\"期望交付时间\"\n            prop=\"delivery_time\"\n            min-width=\"12%\"\n          ></el-table-column>\n          <el-table-column\n            label=\"准确率\"\n            prop=\"accuracy\"\n            min-width=\"7%\"\n          ></el-table-column>\n          <el-table-column label=\"项目背景\" min-width=\"10%\" show-overflow-tooltip>\n            <template slot-scope=\"scope\">\n              <span v-if=\"fifterUrl(scope.row.background)\">\n                <a\n                  :href=\"scope.row.background\"\n                  target=\"_blank\"\n                  class=\"buttonText\"\n                  >{{ scope.row.background }}</a\n                >\n              </span>\n              <span v-else>{{ scope.row.background }}</span>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"项目规则\" min-width=\"10%\" show-overflow-tooltip>\n            <template slot-scope=\"scope\">\n              <span v-if=\"fifterUrl(scope.row.regulation)\">\n                <a\n                  :href=\"scope.row.regulation\"\n                  target=\"_blank\"\n                  class=\"buttonText\"\n                  >{{ scope.row.regulation }}</a\n                >\n              </span>\n              <span v-else>{{ scope.row.regulation }}</span>\n            </template>\n          </el-table-column>\n\n          <el-table-column\n            label=\"单价\"\n            prop=\"tprice\"\n            min-width=\"7%\"\n          ></el-table-column>\n          <el-table-column label=\"是否基于历史\" prop=\"is_repeat\" min-width=\"11%\">\n            <template slot-scope=\"scope\">\n              <span v-if=\"scope.row.is_repeat == 0\">是</span>\n              <span v-if=\"scope.row.is_repeat == 1\">否</span>\n            </template>\n          </el-table-column>\n\n        \n          <el-table-column\n            label=\"项目经理\"\n            prop=\"project_manager\"\n            min-width=\"8%\"\n          ></el-table-column>\n          <el-table-column\n            label=\"质控专家\"\n            prop=\"project_expert\"\n            min-width=\"8%\"\n          ></el-table-column>\n          <el-table-column\n            label=\"交付备注\"\n            prop=\"note\"\n            :show-overflow-tooltip=\"true\"\n            min-width=\"10%\"\n          ></el-table-column>\n        </el-table>\n        <div>\n          <el-pagination\n            @size-change=\"handleSizeChange\"\n            @current-change=\"handleCurrentChange\"\n            :current-page=\"currentPage\"\n            :page-sizes=\"pageSizes\"\n            :page-size=\"PageSize\"\n            layout=\"total, sizes, prev, pager, next, jumper\"\n            :total=\"totalCount\"\n          >\n          </el-pagination>\n        </div>\n      </el-card>\n    </div>\n  </template>\n  \n  <script>\n  import { getAllSituationO } from \"../../../api/api.js\";\n  import { getToken } from \"../../../utils/setToken.js\";\n  export default {\n    data() {\n      return {\n        //获取项目信息的参数对象\n        SituationList: [],\n        //需求方搜索框\n        demands: \"\",\n        //项目名称搜索框\n        names: \"\",\n        // 总条数\n        totalCount: 0,\n        // 默认显示第几页\n        currentPage: 1,\n        // 个数选择器\n        pageSizes: [5, 10],\n        // 默认每页显示的条数\n        PageSize: 5,\n  \n        \n      };\n    },\n    created() {\n      this.id = JSON.parse(getToken(\"work_num\"));\n  /*     this.token = JSON.parse(getToken(\"admin_token\")); */\n      this.getList();\n    },\n    methods: {\n      formatter(row, column) {\n        var data = row[column.property];\n        if (data == null) {\n          return data;\n        }\n        data = data.toString();\n        data = data.replace(/\\'/g, \"\");\n        data = data.replace(/\\[/g, \"\");\n        data = data.replace(/\\]/g, \"\");\n        data = data.replace(/\\s*/g, \"\");\n        data = data.replace(/\\s*/g, \"\");\n        data = data.replace(/GX/g, \"保定国信\");\n        data = data.replace(/YD/g, \"成都亿达\");\n        data = data.replace(/JH/g, \"大连金慧\");\n        data = data.replace(/YT/g, \"盐城云腾\");\n        data = data.replace(/WD/g, \"永川文德\");\n        data = data.replace(/RR/g, \"热热\");\n        data = data.replace(/WH/g, \"HRO\");\n        return data;\n      },\n      getList() {\n        getAllSituationO(\n          this.id,\n          this.PageSize,\n          this.currentPage,\n          this.names\n        ).then((res) => {\n          if (res.data.ret == 0) {\n            this.SituationList = res.data.data_list;\n            this.totalCount = res.data.total;\n          }\n        });\n      },\n      fifterUrl(url) {\n        var match =\n          /^((ht|f)tps?):\\/\\/[\\w\\-]+(\\.[\\w\\-]+)+([\\w\\-\\.,@?^=%&:\\/~\\+#]*[\\w\\-\\@?^=%&\\/~\\+#])?$/;\n        return match.test(url);\n      },\n  \n      handleSizeChange(val) {\n        // 改变每页显示的条数\n        this.PageSize = val;\n        // 注意：在改变每页显示的条数时，要将页码显示到第一页\n        this.currentPage = 1;\n        // 点击每页显示的条数时，显示第一页\n       \n           this.getList()\n      },\n      handleCurrentChange(val) {\n        // 改变默认的页数\n        this.currentPage = val;\n        // 切换页码时，要获取每页显示的条数\n       \n           this.getList()\n      },\n      search() {\n        this.currentPage = 1;\n       \n           this.getList()\n      },\n    },\n  };\n  </script>\n  \n  <style lang=\"less\" scoped>\n  .situ-data-des{\n    font-size: 15px;\n    font-weight: 600;\n    padding-top: 8px;\n  }</style>\n  "],"mappings":"AA4JA,SAAAA,gBAAA;AACA,SAAAC,QAAA;AACA;EACAC,KAAA;IACA;MACA;MACAC,aAAA;MACA;MACAC,OAAA;MACA;MACAC,KAAA;MACA;MACAC,UAAA;MACA;MACAC,WAAA;MACA;MACAC,SAAA;MACA;MACAC,QAAA;IAGA;EACA;EACAC,QAAA;IACA,KAAAC,EAAA,GAAAC,IAAA,CAAAC,KAAA,CAAAZ,QAAA;IACA;IACA,KAAAa,OAAA;EACA;EACAC,OAAA;IACAC,UAAAC,GAAA,EAAAC,MAAA;MACA,IAAAhB,IAAA,GAAAe,GAAA,CAAAC,MAAA,CAAAC,QAAA;MACA,IAAAjB,IAAA;QACA,OAAAA,IAAA;MACA;MACAA,IAAA,GAAAA,IAAA,CAAAkB,QAAA;MACAlB,IAAA,GAAAA,IAAA,CAAAmB,OAAA;MACAnB,IAAA,GAAAA,IAAA,CAAAmB,OAAA;MACAnB,IAAA,GAAAA,IAAA,CAAAmB,OAAA;MACAnB,IAAA,GAAAA,IAAA,CAAAmB,OAAA;MACAnB,IAAA,GAAAA,IAAA,CAAAmB,OAAA;MACAnB,IAAA,GAAAA,IAAA,CAAAmB,OAAA;MACAnB,IAAA,GAAAA,IAAA,CAAAmB,OAAA;MACAnB,IAAA,GAAAA,IAAA,CAAAmB,OAAA;MACAnB,IAAA,GAAAA,IAAA,CAAAmB,OAAA;MACAnB,IAAA,GAAAA,IAAA,CAAAmB,OAAA;MACAnB,IAAA,GAAAA,IAAA,CAAAmB,OAAA;MACAnB,IAAA,GAAAA,IAAA,CAAAmB,OAAA;MACA,OAAAnB,IAAA;IACA;IACAY,QAAA;MACAd,gBAAA,CACA,KAAAW,EAAA,EACA,KAAAF,QAAA,EACA,KAAAF,WAAA,EACA,KAAAF,KAAA,CACA,CAAAiB,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAArB,IAAA,CAAAsB,GAAA;UACA,KAAArB,aAAA,GAAAoB,GAAA,CAAArB,IAAA,CAAAuB,SAAA;UACA,KAAAnB,UAAA,GAAAiB,GAAA,CAAArB,IAAA,CAAAwB,KAAA;QACA;MACA;IACA;IACAC,UAAAC,GAAA;MACA,IAAAC,KAAA,GACA;MACA,OAAAA,KAAA,CAAAC,IAAA,CAAAF,GAAA;IACA;IAEAG,iBAAAC,GAAA;MACA;MACA,KAAAvB,QAAA,GAAAuB,GAAA;MACA;MACA,KAAAzB,WAAA;MACA;;MAEA,KAAAO,OAAA;IACA;IACAmB,oBAAAD,GAAA;MACA;MACA,KAAAzB,WAAA,GAAAyB,GAAA;MACA;;MAEA,KAAAlB,OAAA;IACA;IACAoB,OAAA;MACA,KAAA3B,WAAA;MAEA,KAAAO,OAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}