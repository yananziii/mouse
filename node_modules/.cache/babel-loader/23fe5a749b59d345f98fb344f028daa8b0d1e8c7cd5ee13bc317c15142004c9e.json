{"ast":null,"code":"import { getDeliveryO } from \"../../../api/api.js\";\nimport { getToken } from \"../../../utils/setToken.js\";\nexport default {\n  data() {\n    return {\n      ids: \"\",\n      DeliveryList: [],\n      // 总条数\n      totalCount: 0,\n      //默认显示第几页\n      currentPage: 1,\n      // 个数选择器\n      pageSizes: [5, 10],\n      // 默认每页显示的条数\n      PageSize: 5\n      //控制添加明细表单对话框的显示与隐藏\n    };\n  },\n\n  created() {\n    this.id = JSON.parse(getToken(\"work_num\"));\n    /*     this.token = JSON.parse(getToken(\"admin_token\")); */\n\n    this.getList();\n  },\n  methods: {\n    getList() {\n      getDeliveryO(this.id, this.PageSize, this.currentPage, this.ids).then(res => {\n        if (res.data.ret == 0) {\n          this.DeliveryList = res.data.data_list;\n          this.totalCount = res.data.total;\n        }\n      });\n    },\n    search() {\n      this.currentPage = 1;\n      this.getList();\n    },\n    handleSizeChange(val) {\n      // 改变每页显示的条数\n      this.PageSize = val;\n      // 注意：在改变每页显示的条数时，要将页码显示到第一页\n      this.currentPage = 1;\n      // 点击每页显示的条数时，显示第一页\n      this.getList();\n    },\n    handleCurrentChange(val) {\n      // 改变默认的页数\n      this.currentPage = val;\n      // 切换页码时，要获取每页显示的条数\n      this.getList();\n    }\n  }\n};","map":{"version":3,"names":["getDeliveryO","getToken","data","ids","DeliveryList","totalCount","currentPage","pageSizes","PageSize","created","id","JSON","parse","getList","methods","then","res","ret","data_list","total","search","handleSizeChange","val","handleCurrentChange"],"sources":["src/components/Manager/Overview/DeliveryO.vue"],"sourcesContent":["<template>\n  <div>\n    <el-card>\n      <!--     面包屑导航 -->\n      <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n        <el-breadcrumb-item :to=\"{ path: '/Notice' }\">首页</el-breadcrumb-item>\n        <el-breadcrumb-item>项资数据总览</el-breadcrumb-item>\n        <el-breadcrumb-item>数据包交付</el-breadcrumb-item>\n      </el-breadcrumb>\n      <el-row>\n        <el-col :span=\"18\" class=\"deli-top-des\">\n          {{ this.$route.query.name }}\n        </el-col>\n      </el-row>\n    </el-card>\n    <el-card>\n      <el-row :gutter=\"40\">\n        <el-col :span=\"18\" class=\"deli-data-des\"> 项目 </el-col>\n        <el-col :span=\"3\">\n          <el-input\n            placeholder=\"项目名称\"\n            v-model=\"ids\"\n            @keyup.enter.native=\"search\"\n            size=\"mini\"\n            clearable\n          >\n          </el-input>\n        </el-col>\n        <el-col :span=\"3\">\n          <el-button icon=\"el-icon-search\" circle size=\"mini\" @click=\"search\">\n          </el-button>\n        </el-col>\n      </el-row>\n      <el-table :data=\"DeliveryList\" stripe>\n        <el-table-column\n          label=\"表单id\"\n          prop=\"id\"\n          min-width=\"6%\"\n        ></el-table-column>\n        <el-table-column\n          label=\"项目名称\"\n          prop=\"project_name\"\n          min-width=\"20%\"\n        ></el-table-column>\n        <el-table-column\n          label=\"数据包id\"\n          prop=\"packet_id\"\n          min-width=\"7%\"\n        ></el-table-column>\n        <el-table-column label=\"进度状态\" prop=\"progress_status\" min-width=\"7%\">\n          <template slot-scope=\"scope\">\n            <span v-if=\"scope.row.progress_status == 1\">标注中</span>\n            <span v-if=\"scope.row.progress_status == 2\">已标完</span>\n            <span v-if=\"scope.row.progress_status == 3\">验收中</span>\n            <span v-if=\"scope.row.progress_status == 4\">返修中</span>\n            <span v-if=\"scope.row.progress_status == 5\">内检中</span>\n            <span v-if=\"scope.row.progress_status == 6\">待复核</span>\n            <span v-if=\"scope.row.progress_status == 7\">待交付</span>\n            <span v-if=\"scope.row.progress_status == 8\">已交付</span>\n          </template>\n        </el-table-column>\n        <el-table-column\n          label=\"需求量级\"\n          prop=\"packet_num\"\n          min-width=\"7%\"\n        ></el-table-column>\n        <el-table-column\n          label=\"实际交付时间\"\n          prop=\"mark_time\"\n          min-width=\"10%\"\n        ></el-table-column>\n        <el-table-column\n          label=\"最终准确率\"\n          prop=\"final_accuray\"\n          min-width=\"7%\"\n        ></el-table-column>\n        <el-table-column label=\"结算月份\" prop=\"setmonth\" min-width=\"7%\">\n          <template slot-scope=\"scope\">\n            <span v-if=\"scope.row.setmonth == 0\">不结算</span>\n            <span v-if=\"scope.row.setmonth == 1\">一月份</span>\n            <span v-if=\"scope.row.setmonth == 2\">二月份</span>\n            <span v-if=\"scope.row.setmonth == 3\">三月份</span>\n            <span v-if=\"scope.row.setmonth == 4\">四月份</span>\n            <span v-if=\"scope.row.setmonth == 5\">五月份</span>\n            <span v-if=\"scope.row.setmonth == 6\">六月份</span>\n            <span v-if=\"scope.row.setmonth == 7\">七月份</span>\n            <span v-if=\"scope.row.setmonth == 8\">八月份</span>\n            <span v-if=\"scope.row.setmonth == 9\">九月份</span>\n            <span v-if=\"scope.row.setmonth == 10\">十月份</span>\n            <span v-if=\"scope.row.setmonth == 11\">十一月份</span>\n            <span v-if=\"scope.row.setmonth == 12\">十二月份</span>\n          </template>\n        </el-table-column>\n        <el-table-column\n          label=\"单价\"\n          prop=\"uprice\"\n          min-width=\"7%\"\n        ></el-table-column>\n        <el-table-column\n          label=\"维护人\"\n          prop=\"first_name\"\n          min-width=\"7%\"\n        ></el-table-column>\n      </el-table>\n      <div>\n        <el-pagination\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n          :current-page=\"currentPage\"\n          :page-sizes=\"pageSizes\"\n          :page-size=\"PageSize\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"totalCount\"\n        >\n        </el-pagination>\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport { getDeliveryO } from \"../../../api/api.js\";\nimport { getToken } from \"../../../utils/setToken.js\";\nexport default {\n  data() {\n    return {\n      ids: \"\",\n      DeliveryList: [],\n      // 总条数\n      totalCount: 0,\n      //默认显示第几页\n      currentPage: 1,\n      // 个数选择器\n      pageSizes: [5, 10],\n      // 默认每页显示的条数\n      PageSize: 5,\n      //控制添加明细表单对话框的显示与隐藏\n    };\n  },\n  created() {\n    this.id = JSON.parse(getToken(\"work_num\"));\n    /*     this.token = JSON.parse(getToken(\"admin_token\")); */\n\n    this.getList();\n  },\n  methods: {\n    getList() {\n      getDeliveryO(this.id, this.PageSize, this.currentPage, this.ids).then(\n        (res) => {\n          if (res.data.ret == 0) {\n            this.DeliveryList = res.data.data_list;\n            this.totalCount = res.data.total;\n          }\n        }\n      );\n    },\n    search() {\n      this.currentPage = 1;\n      this.getList();\n    },\n\n    handleSizeChange(val) {\n      // 改变每页显示的条数\n      this.PageSize = val;\n      // 注意：在改变每页显示的条数时，要将页码显示到第一页\n      this.currentPage = 1;\n      // 点击每页显示的条数时，显示第一页\n      this.getList();\n    },\n    handleCurrentChange(val) {\n      // 改变默认的页数\n      this.currentPage = val;\n      // 切换页码时，要获取每页显示的条数\n      this.getList();\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.deli-top-des {\n  font-size: 18px;\n  font-weight: 600;\n  padding-top: 10px;\n}\n.deli-data-des {\n  font-size: 15px;\n  font-weight: 600;\n  padding-top: 8px;\n}\n</style>\n"],"mappings":"AAyHA,SAAAA,YAAA;AACA,SAAAC,QAAA;AACA;EACAC,KAAA;IACA;MACAC,GAAA;MACAC,YAAA;MACA;MACAC,UAAA;MACA;MACAC,WAAA;MACA;MACAC,SAAA;MACA;MACAC,QAAA;MACA;IACA;EACA;;EACAC,QAAA;IACA,KAAAC,EAAA,GAAAC,IAAA,CAAAC,KAAA,CAAAX,QAAA;IACA;;IAEA,KAAAY,OAAA;EACA;EACAC,OAAA;IACAD,QAAA;MACAb,YAAA,MAAAU,EAAA,OAAAF,QAAA,OAAAF,WAAA,OAAAH,GAAA,EAAAY,IAAA,CACAC,GAAA;QACA,IAAAA,GAAA,CAAAd,IAAA,CAAAe,GAAA;UACA,KAAAb,YAAA,GAAAY,GAAA,CAAAd,IAAA,CAAAgB,SAAA;UACA,KAAAb,UAAA,GAAAW,GAAA,CAAAd,IAAA,CAAAiB,KAAA;QACA;MACA,EACA;IACA;IACAC,OAAA;MACA,KAAAd,WAAA;MACA,KAAAO,OAAA;IACA;IAEAQ,iBAAAC,GAAA;MACA;MACA,KAAAd,QAAA,GAAAc,GAAA;MACA;MACA,KAAAhB,WAAA;MACA;MACA,KAAAO,OAAA;IACA;IACAU,oBAAAD,GAAA;MACA;MACA,KAAAhB,WAAA,GAAAgB,GAAA;MACA;MACA,KAAAT,OAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}